<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paix 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
body{
margin:0;
font-family:'Poppins',sans-serif;
background:#f2f2f2;
display:flex;
flex-direction:column;
align-items:center;
padding:20px;
}
input{margin-bottom:20px}
button{
padding:12px 25px;
background:#0b7a3d;
color:white;
border:none;
border-radius:5px;
font-size:16px;
cursor:pointer;
}
canvas{display:none;}
</style>
</head>
<body>

<h2>Upload ta photo</h2>
<input type="file" id="upload" accept="image/*">
<button onclick="generateImage()">Télécharger</button>

<canvas id="canvas" width="1080" height="1080"></canvas>

<script>
let uploadedImage = null;

document.getElementById("upload").addEventListener("change", function(e){
const reader = new FileReader();
reader.onload = function(event){
const img = new Image();
img.onload = function(){
uploadedImage = img;
};
img.src = event.target.result;
}
reader.readAsDataURL(e.target.files[0]);
});

function generateImage(){
if(!uploadedImage){
alert("Upload une photo d'abord");
return;
}

const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

/* RESET */
ctx.clearRect(0,0,1080,1080);

/* ===== FOND DEGRADE ===== */
let gradient = ctx.createLinearGradient(0,0,1080,1080);
gradient.addColorStop(0,"#0b7a3d");
gradient.addColorStop(0.5,"#f4c400");
gradient.addColorStop(1,"#e30613");
ctx.fillStyle = gradient;
ctx.fillRect(0,0,1080,1080);

/* ===== VAGUE CLAIRE ===== */
ctx.fillStyle = "rgba(255,255,255,0.9)";
ctx.beginPath();
ctx.ellipse(540,720,900,350,0,0,Math.PI*2);
ctx.fill();

/* ===== CERCLE EXTERIEUR ===== */
ctx.beginPath();
ctx.arc(350,450,320,0,Math.PI*2);
ctx.fillStyle = "#c4a000";
ctx.fill();

/* ===== CERCLE INTERIEUR ===== */
ctx.beginPath();
ctx.arc(350,450,300,0,Math.PI*2);
ctx.fillStyle = "white";
ctx.fill();

/* ===== PHOTO (cover auto) ===== */
ctx.save();
ctx.beginPath();
ctx.arc(350,450,280,0,Math.PI*2);
ctx.clip();

let size = Math.min(uploadedImage.width, uploadedImage.height);
let sx = (uploadedImage.width - size) / 2;
let sy = (uploadedImage.height - size) / 2;

ctx.drawImage(uploadedImage, sx, sy, size, size, 70,170,560,560);
ctx.restore();

/* ===== TEXTE ALIGNÉ PRO ===== */
ctx.textAlign = "left";

let textX = 620;
let y = 380;

/* Ligne 1 */
ctx.fillStyle = "#111";
ctx.font = "600 46px Poppins";
ctx.fillText("Je m’engage avec la", textX, y);

y += 70;

/* Titre principal */
ctx.fillStyle = "#0b7a3d";
ctx.font = "900 64px Poppins";
ctx.fillText("MAIRIE DES JEUNES", textX, y);

y += 75;

ctx.fillText("DE DJOUGOU", textX, y);

y += 85;

/* Phrase paix */
ctx.fillStyle = "#111";
ctx.font = "400 42px Poppins";
ctx.fillText("pour la", textX, y);

ctx.fillStyle = "#0b7a3d";
ctx.font = "900 48px Poppins";
ctx.fillText("PAIX", textX + 170, y);

y += 70;

ctx.fillStyle = "#111";
ctx.font = "400 40px Poppins";
ctx.fillText("avant, pendant et après", textX, y);

y += 60;

ctx.fillText("les élections au Bénin.", textX, y);

/* ===== HASHTAG ===== */
ctx.fillStyle = "#0b7a3d";
ctx.font = "700 44px Poppins";
ctx.textAlign = "center";
ctx.fillText("#PaixAuBénin2026", 540, 1000);

/* ===== LOGO ===== */
const logo = new Image();
logo.src = "logo.png";
logo.onload = function(){
ctx.beginPath();
ctx.arc(920,160,100,0,Math.PI*2);
ctx.fillStyle = "white";
ctx.fill();
ctx.drawImage(logo,840,80,160,160);

/* DOWNLOAD */
const link = document.createElement("a");
link.download = "paix2026.png";
link.href = canvas.toDataURL("image/png");
link.click();
}
}
</script>

</body>
</html>
