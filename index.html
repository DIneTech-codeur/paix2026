<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Paix 2026</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
body{
margin:0;
font-family:'Poppins',sans-serif;
background:#f2f2f2;
display:flex;
flex-direction:column;
align-items:center;
padding:20px;
}
input{margin-bottom:20px}
button{
padding:12px 25px;
background:#0b7a3d;
color:white;
border:none;
border-radius:5px;
font-size:16px;
cursor:pointer;
}
canvas{display:none;}
</style>
</head>
<body>

<h2>Upload ta photo</h2>
<input type="file" id="upload" accept="image/*">
<button onclick="generateImage()">Télécharger</button>

<canvas id="canvas" width="1080" height="1080"></canvas>

<script>
let uploadedImage = null;

document.getElementById("upload").addEventListener("change", function(e){
const reader = new FileReader();
reader.onload = function(event){
const img = new Image();
img.onload = function(){
uploadedImage = img;
};
img.src = event.target.result;
}
reader.readAsDataURL(e.target.files[0]);
});

function generateImage(){
if(!uploadedImage){
alert("Upload une photo d'abord");
return;
}

const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

ctx.clearRect(0,0,1080,1080);

/* ================= FOND PREMIUM ================= */

let bgGradient = ctx.createLinearGradient(0,0,1080,1080);
bgGradient.addColorStop(0,"#1c8c3a");
bgGradient.addColorStop(0.5,"#f2c300");
bgGradient.addColorStop(1,"#d91e18");
ctx.fillStyle = bgGradient;
ctx.fillRect(0,0,1080,1080);

/* Lumière radiale derrière photo */
let glow = ctx.createRadialGradient(350,450,100,350,450,600);
glow.addColorStop(0,"rgba(255,255,255,0.35)");
glow.addColorStop(1,"rgba(255,255,255,0)");
ctx.fillStyle = glow;
ctx.fillRect(0,0,1080,1080);

/* ================= VAGUE BASSE ================= */

ctx.fillStyle = "#f5efe6";
ctx.beginPath();
ctx.moveTo(0,760);
ctx.quadraticCurveTo(540,680,1080,760);
ctx.lineTo(1080,1080);
ctx.lineTo(0,1080);
ctx.closePath();
ctx.fill();

/* ================= HALO TRICOLORE ================= */

const centerX = 350;
const centerY = 450;
const outerRadius = 330;
const innerRadius = 300;

/* Vert */
ctx.beginPath();
ctx.strokeStyle = "#1c8c3a";
ctx.lineWidth = 40;
ctx.arc(centerX,centerY,315,-Math.PI/2,Math.PI/6);
ctx.stroke();

/* Jaune */
ctx.beginPath();
ctx.strokeStyle = "#f2c300";
ctx.arc(centerX,centerY,315,Math.PI/6,5*Math.PI/6);
ctx.stroke();

/* Rouge */
ctx.beginPath();
ctx.strokeStyle = "#d91e18";
ctx.arc(centerX,centerY,315,5*Math.PI/6,3*Math.PI/2);
ctx.stroke();

/* Cercle blanc */
ctx.beginPath();
ctx.fillStyle = "white";
ctx.arc(centerX,centerY,innerRadius,0,Math.PI*2);
ctx.fill();

/* ================= PHOTO ================= */

ctx.save();
ctx.beginPath();
ctx.arc(centerX,centerY,280,0,Math.PI*2);
ctx.clip();

let size = Math.min(uploadedImage.width, uploadedImage.height);
let sx = (uploadedImage.width - size) / 2;
let sy = (uploadedImage.height - size) / 2;

ctx.drawImage(uploadedImage,sx,sy,size,size,70,170,560,560);
ctx.restore();

/* ================= TEXTE DROITE ================= */

ctx.textAlign = "left";
let textStartX = 650;
let y = 380;

/* Ligne intro */
ctx.fillStyle = "#222";
ctx.font = "500 40px Poppins";
ctx.fillText("Je m’engage avec la", textStartX, y);

y += 70;

/* MAIRIE */
ctx.font = "900 60px Poppins";
ctx.fillStyle = "#1c8c3a";
ctx.fillText("MAIRIE", textStartX, y);

y += 65;

ctx.fillStyle = "#f2c300";
ctx.fillText("DES JEUNES", textStartX, y);

y += 65;

ctx.fillStyle = "#d91e18";
ctx.fillText("DE DJOUGOU", textStartX, y);

/* ================= BAS ================= */

ctx.textAlign = "center";
y = 820;

ctx.fillStyle = "#222";
ctx.font = "400 42px Poppins";
ctx.fillText("pour la", 540, y);

y += 65;

ctx.fillStyle = "#1c8c3a";
ctx.font = "900 70px Poppins";
ctx.fillText("PAIX", 540, y);

y += 70;

ctx.fillStyle = "#333";
ctx.font = "400 36px Poppins";
ctx.fillText("avant, pendant et après les élections au Bénin.", 540, y);

y += 90;

ctx.fillStyle = "#1c8c3a";
ctx.font = "700 44px Poppins";
ctx.fillText("#PaixAuBénin2026", 540, y);

/* ================= LOGO ================= */

const logo = new Image();
logo.src = "logo.png";
logo.onload = function(){

ctx.beginPath();
ctx.fillStyle = "white";
ctx.arc(930,150,100,0,Math.PI*2);
ctx.fill();

ctx.drawImage(logo,850,70,160,160);

/* DOWNLOAD */
const link = document.createElement("a");
link.download = "paix2026.png";
link.href = canvas.toDataURL("image/png");
link.click();
}

}
</script>

</body>
</html>
